<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8">
    <title>Selected Exercises</title>
    <style>
      .selected {
        background-color: #666;
      }
    </style>
  </head>
  <body>
    <h1>Include Exercises</h1>
    <h2>Exercise Categories</h2>
    <ul>
      <% for(let i = 0; i < exerciseCategory.length; i++) { %>
        <li>
          <form action="/addExerciseTag" method="post">
            <button type="submit" name="exerciseTag" value="<%= exerciseCategory[i].name %>"
              <% if (exerciseTag.includes(exerciseCategory[i].name)) { %>class="selected"<% } %>
            >
              <%= exerciseCategory[i].name %>
            </button>
            <input type="hidden" name="user" value="<%= userId %>"> <!-- Pass userId to server -->
          </form>
        </li>
      <% } %>
    </ul>
    <ul>
      <% for (let i = 0; i < exercise.length; i++) { %>
        <div>
          <p><%= exercise[i].name %> (Target: <%= exercise[i].bodyPart %>, Equipment: <%= exercise[i].equipment %>)</p>
          <form action="/removeExercise" method="post">
            <input type="hidden" name="item" value="<%= exercise[i].name %>">
            <input type="hidden" name="user" value="<%= userId %>">
            <input type="submit" value="Remove">
          </form>
        </div>
      <% } %>
    </ul>
    <a href="/exercise">Search</a>

    <h1>Exclude Exercises</h1>
    <h2>Exercise Categories</h2>
    <ul>
      <% for(let i = 0; i < exerciseCategory.length; i++) { %>
        <li>
          <form action="/addExerciseTagEx" method="post">
            <button type="submit" name="exerciseTagEx" value="<%= exerciseCategory[i].name %>"
              <% if (exerciseTagEx.includes(exerciseCategory[i].name)) { %>class="selected"<% } %>
            >
              <%= exerciseCategory[i].name %>
            </button>
            <input type="hidden" name="user" value="<%= userId %>"> <!-- Pass userId to server -->
          </form>
        </li>
      <% } %>
    </ul>
    <ul>
      <% for (let i = 0; i < excludeExercise.length; i++) { %>
        <div>
          <p><%= excludeExercise[i].name %> (Target: <%= excludeExercise[i].bodyPart %>, Equipment: <%= excludeExercise[i].equipment %>)</p>
          <form action="/removeExerciseEx" method="post">
            <input type="hidden" name="item" value="<%= excludeExercise[i].name %>">
            <input type="hidden" name="user" value="<%= userId %>">
            <input type="submit" value="Remove">
          </form>
        </div>
      <% } %>
    </ul>
    <a href="/exerciseEx">Search</a>
  </body>
</html>
