<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8">
    <title>Selected Food</title>
    <style>
      .selected {
        background-color: #666;
      }
    </style>
  </head>
  <body>
    <h1>Selected Food</h1>
    <ul>
      <% for(let i = 0; i < food.length; i++) { %>
        <div>
          <p><%= food[i] %></p>
          <form action="/removeFood" method="post">
            <input type="hidden" name="item" value="<%= food[i] %>">
            <input type="hidden" name="user" value="<%= userId %>"> <!-- Pass userId to server -->
            <input type="submit" value="Remove">
          </form>
        </div>
      <% } %>
    </ul>
    
    <h2>Food Categories</h2>
    <ul>
      <% for(let i = 0; i < foodCategory.length; i++) { %>
        <li>
          <form action="/addFoodTag" method="post">
            <button type="submit" name="foodTag" value="<%= foodCategory[i].name %>"
              <% if (foodTag.includes(foodCategory[i].name)) { %>class="selected"<% } %>
            >
              <%= foodCategory[i].name %>
            </button>
            <input type="hidden" name="user" value="<%= userId %>"> <!-- Pass userId to server -->
          </form>
        </li>
      <% } %>
    </ul>
    
    <a href="/food">Search</a>
  </body>
</html>
